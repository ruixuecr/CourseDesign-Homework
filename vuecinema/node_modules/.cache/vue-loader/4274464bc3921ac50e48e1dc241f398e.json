{"remainingRequest":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/src/views/History.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/src/views/History.vue","mtime":1686814016000},{"path":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/node_modules/cache-loader/dist/cjs.js","mtime":1748439392992},{"path":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/node_modules/babel-loader/lib/index.js","mtime":1748439385418},{"path":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/node_modules/cache-loader/dist/cjs.js","mtime":1748439392992},{"path":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/node_modules/vue-loader-v16/dist/index.js","mtime":1748439392509}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgeyB1dGlsIH0gZnJvbSAnQC9hc3NldHMvanMvaW5kZXgnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnSGlzdG9yeScsDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHRpdGxlOiAnJywNCiAgICAgICAgICAgIG1vdmllczogW10sDQogICAgICAgICAgICBhbGxtb3ZpZXM6IFtdLCAvLyDkuozmrKHpobXpnaLlrZjlgqjvvIznlKjkuo7pobXpnaLliIfmjaINCg0KICAgICAgICAgICAgaXNfc2hvd19zdWI6IDEsDQoNCiAgICAgICAgICAgIHBhZ2Vfc2l6ZTogNSwNCiAgICAgICAgICAgIHBhZ2U6IDENCiAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgLi4ubWFwU3RhdGUoew0KICAgICAgICAgICAgaGlzdG9yeTogKHN0YXRlKSA9PiBzdGF0ZS5tb3ZpZS5oaXN0b3J5DQogICAgICAgIH0pDQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIHJvdXRlckluZm9FdmVudChkYXRhKSB7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvaW5mbycsIHF1ZXJ5OiB7IGlkOiBkYXRhLmlkLCBmbGFnOiB0aGlzLiRyb3V0ZS5xdWVyeS5mbGFnIH0gfSkuY2F0Y2goKGVycm9yKSA9PiBlcnJvcikNCiAgICAgICAgfSwNCg0KICAgICAgICBoYW5kbGVTaXplQ2hhbmdlKGRhdGEpIHsNCiAgICAgICAgICAgIHRoaXMucGFnZV9zaXplID0gZGF0YQ0KICAgICAgICAgICAgdGhpcy5wYWdlID0gMQ0KICAgICAgICAgICAgbGV0IGxhc3RwYWdlID0gTWF0aC5jZWlsKHRoaXMuYWxsbW92aWVzLmxlbmd0aCAvIHRoaXMucGFnZV9zaXplKQ0KICAgICAgICAgICAgaWYgKHRoaXMucGFnZSAtIGxhc3RwYWdlIDwgMCkgew0KICAgICAgICAgICAgICAgIHRoaXMubW92aWVzID0gdGhpcy5hbGxtb3ZpZXMuc2xpY2UoKHRoaXMucGFnZSAtIDEpICogdGhpcy5wYWdlX3NpemUsIHRoaXMucGFnZV9zaXplICogdGhpcy5wYWdlKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAvLyDlvILmraXlhbzlrrkNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZpZXMgPSB0aGlzLmFsbG1vdmllcy5zbGljZSgodGhpcy5wYWdlIC0gbGFzdHBhZ2UpICogdGhpcy5wYWdlX3NpemUsIHRoaXMucGFnZV9zaXplICogdGhpcy5wYWdlKQ0KICAgICAgICAgICAgICAgIH0sIDEpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UoZGF0YSkgew0KICAgICAgICAgICAgdGhpcy5wYWdlID0gZGF0YQ0KICAgICAgICAgICAgbGV0IGxhc3RwYWdlID0gTWF0aC5jZWlsKHRoaXMuYWxsbW92aWVzLmxlbmd0aCAvIHRoaXMucGFnZV9zaXplKQ0KICAgICAgICAgICAgaWYgKHRoaXMucGFnZSAtIGxhc3RwYWdlIDw9IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLm1vdmllcyA9IHRoaXMuYWxsbW92aWVzLnNsaWNlKCh0aGlzLnBhZ2UgLSAxKSAqIHRoaXMucGFnZV9zaXplLCB0aGlzLnBhZ2Vfc2l6ZSAqIHRoaXMucGFnZSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgICAgbGV0IHJvdXRlcmluZm8gPSB0aGlzLiRyb3V0ZS5xdWVyeQ0KICAgICAgICBpZiAocm91dGVyaW5mby50aXRsZSA9PSAn6KeC55yL6K6w5b2VJykgew0KICAgICAgICAgICAgdGhpcy5tb3ZpZXMgPSB0aGlzLmhpc3RvcnkNCiAgICAgICAgICAgIHRoaXMuYWxsbW92aWVzID0gdGhpcy5oaXN0b3J5DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLmhhbmRsZUN1cnJlbnRDaGFuZ2UoMSkNCiAgICB9DQp9DQo="},{"version":3,"sources":["/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/src/views/History.vue"],"names":[],"mappings":"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AAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/D,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE;gBAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnG,EAAE,CAAC,CAAC,CAAC,EAAE;gBACH,CAAC,EAAE,CAAC,CAAC,CAAC;gBACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;oBACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1G,CAAC,EAAE,CAAC;YACR;QACJ,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;YACf,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/D,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;gBAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnG;QACJ;IACJ,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACN,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChC;;QAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9B;AACJ","file":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/src/views/History.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <div class=\"bg-content\">\r\n        <div class=\"flex-r flex-jc-c flex-ac-t\">\r\n            <div class=\"w-px-max-1380 w-100\">\r\n                <div class=\"p-20 bg-black-blue-light\" style=\"min-height: calc(100vh - 138px)\">\r\n                    <Content :Title=\"this.$route.query.title\" :IsShow=\"false\">\r\n                        <template #content>\r\n                            <div class=\"w-100 m-b-20\">\r\n                                <div v-for=\"(item, index) in movies\" :key=\"index\">\r\n                                    <CardLineLarge\r\n                                        :index=\"index + (this.page - 1) * this.page_size\"\r\n                                        :id=\"item.id\"\r\n                                        :image=\"item.image\"\r\n                                        :name=\"item.name\"\r\n                                        :score=\"item.score\"\r\n                                        :rate=\"item.rate\"\r\n                                        :tag=\"item.tag\"\r\n                                        :info=\"item.info\"\r\n                                        @click=\"routerInfoEvent(item)\"\r\n                                    />\r\n                                    <Divider v-if=\"index + 1 != movies.length\" />\r\n                                </div>\r\n                                <div class=\"w-100 flex-r flex-jc-c flex-ai-c m-t-40\" v-if=\"movies.length > 0\">\r\n                                    <Pagination :total=\"this.allmovies.length\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" />\r\n                                </div>\r\n                            </div>\r\n                        </template>\r\n                    </Content>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { util } from '@/assets/js/index'\r\n\r\nexport default {\r\n    name: 'History',\r\n    data() {\r\n        return {\r\n            title: '',\r\n            movies: [],\r\n            allmovies: [], // 二次页面存储，用于页面切换\r\n\r\n            is_show_sub: 1,\r\n\r\n            page_size: 5,\r\n            page: 1\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            history: (state) => state.movie.history\r\n        })\r\n    },\r\n    methods: {\r\n        routerInfoEvent(data) {\r\n            this.$router.push({ path: '/info', query: { id: data.id, flag: this.$route.query.flag } }).catch((error) => error)\r\n        },\r\n\r\n        handleSizeChange(data) {\r\n            this.page_size = data\r\n            this.page = 1\r\n            let lastpage = Math.ceil(this.allmovies.length / this.page_size)\r\n            if (this.page - lastpage < 0) {\r\n                this.movies = this.allmovies.slice((this.page - 1) * this.page_size, this.page_size * this.page)\r\n            } else {\r\n                // 异步兼容\r\n                setTimeout(() => {\r\n                    this.movies = this.allmovies.slice((this.page - lastpage) * this.page_size, this.page_size * this.page)\r\n                }, 1)\r\n            }\r\n        },\r\n        handleCurrentChange(data) {\r\n            this.page = data\r\n            let lastpage = Math.ceil(this.allmovies.length / this.page_size)\r\n            if (this.page - lastpage <= 0) {\r\n                this.movies = this.allmovies.slice((this.page - 1) * this.page_size, this.page_size * this.page)\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        let routerinfo = this.$route.query\r\n        if (routerinfo.title == '观看记录') {\r\n            this.movies = this.history\r\n            this.allmovies = this.history\r\n        }\r\n\r\n        this.handleCurrentChange(1)\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nbody {\r\n    background-color: #111319cc;\r\n}\r\n</style>\r\n"]}]}