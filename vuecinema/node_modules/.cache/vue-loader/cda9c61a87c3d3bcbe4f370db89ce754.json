{"remainingRequest":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/src/views/History.vue?vue&type=template&id=ba0a5d6c","dependencies":[{"path":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/src/views/History.vue","mtime":1686814016000},{"path":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/node_modules/cache-loader/dist/cjs.js","mtime":1748439392992},{"path":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/node_modules/babel-loader/lib/index.js","mtime":1748439385418},{"path":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1748439392511},{"path":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/node_modules/cache-loader/dist/cjs.js","mtime":1748439392992},{"path":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/node_modules/vue-loader-v16/dist/index.js","mtime":1748439392509}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgPGRpdiBjbGFzcz0iYmctY29udGVudCI+DQogICAgICAgIDxkaXYgY2xhc3M9ImZsZXgtciBmbGV4LWpjLWMgZmxleC1hYy10Ij4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InctcHgtbWF4LTEzODAgdy0xMDAiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InAtMjAgYmctYmxhY2stYmx1ZS1saWdodCIgc3R5bGU9Im1pbi1oZWlnaHQ6IGNhbGMoMTAwdmggLSAxMzhweCkiPg0KICAgICAgICAgICAgICAgICAgICA8Q29udGVudCA6VGl0bGU9InRoaXMuJHJvdXRlLnF1ZXJ5LnRpdGxlIiA6SXNTaG93PSJmYWxzZSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgI2NvbnRlbnQ+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idy0xMDAgbS1iLTIwIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiB2LWZvcj0iKGl0ZW0sIGluZGV4KSBpbiBtb3ZpZXMiIDprZXk9ImluZGV4Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkTGluZUxhcmdlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmluZGV4PSJpbmRleCArICh0aGlzLnBhZ2UgLSAxKSAqIHRoaXMucGFnZV9zaXplIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDppZD0iaXRlbS5pZCINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6aW1hZ2U9Iml0ZW0uaW1hZ2UiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOm5hbWU9Iml0ZW0ubmFtZSINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6c2NvcmU9Iml0ZW0uc2NvcmUiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnJhdGU9Iml0ZW0ucmF0ZSINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6dGFnPSJpdGVtLnRhZyINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6aW5mbz0iaXRlbS5pbmZvIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz0icm91dGVySW5mb0V2ZW50KGl0ZW0pIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxEaXZpZGVyIHYtaWY9ImluZGV4ICsgMSAhPSBtb3ZpZXMubGVuZ3RoIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idy0xMDAgZmxleC1yIGZsZXgtamMtYyBmbGV4LWFpLWMgbS10LTQwIiB2LWlmPSJtb3ZpZXMubGVuZ3RoID4gMCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGFnaW5hdGlvbiA6dG90YWw9InRoaXMuYWxsbW92aWVzLmxlbmd0aCIgQHNpemUtY2hhbmdlPSJoYW5kbGVTaXplQ2hhbmdlIiBAY3VycmVudC1jaGFuZ2U9ImhhbmRsZUN1cnJlbnRDaGFuZ2UiIC8+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT4NCiAgICAgICAgICAgICAgICAgICAgPC9Db250ZW50Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0K"},{"version":3,"sources":["/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/src/views/History.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACzE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBACrD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BACd,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","file":"/Users/admin/Desktop/前端项目/vue3电影网站系统/vuecinema/src/views/History.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <div class=\"bg-content\">\r\n        <div class=\"flex-r flex-jc-c flex-ac-t\">\r\n            <div class=\"w-px-max-1380 w-100\">\r\n                <div class=\"p-20 bg-black-blue-light\" style=\"min-height: calc(100vh - 138px)\">\r\n                    <Content :Title=\"this.$route.query.title\" :IsShow=\"false\">\r\n                        <template #content>\r\n                            <div class=\"w-100 m-b-20\">\r\n                                <div v-for=\"(item, index) in movies\" :key=\"index\">\r\n                                    <CardLineLarge\r\n                                        :index=\"index + (this.page - 1) * this.page_size\"\r\n                                        :id=\"item.id\"\r\n                                        :image=\"item.image\"\r\n                                        :name=\"item.name\"\r\n                                        :score=\"item.score\"\r\n                                        :rate=\"item.rate\"\r\n                                        :tag=\"item.tag\"\r\n                                        :info=\"item.info\"\r\n                                        @click=\"routerInfoEvent(item)\"\r\n                                    />\r\n                                    <Divider v-if=\"index + 1 != movies.length\" />\r\n                                </div>\r\n                                <div class=\"w-100 flex-r flex-jc-c flex-ai-c m-t-40\" v-if=\"movies.length > 0\">\r\n                                    <Pagination :total=\"this.allmovies.length\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" />\r\n                                </div>\r\n                            </div>\r\n                        </template>\r\n                    </Content>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { util } from '@/assets/js/index'\r\n\r\nexport default {\r\n    name: 'History',\r\n    data() {\r\n        return {\r\n            title: '',\r\n            movies: [],\r\n            allmovies: [], // 二次页面存储，用于页面切换\r\n\r\n            is_show_sub: 1,\r\n\r\n            page_size: 5,\r\n            page: 1\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState({\r\n            history: (state) => state.movie.history\r\n        })\r\n    },\r\n    methods: {\r\n        routerInfoEvent(data) {\r\n            this.$router.push({ path: '/info', query: { id: data.id, flag: this.$route.query.flag } }).catch((error) => error)\r\n        },\r\n\r\n        handleSizeChange(data) {\r\n            this.page_size = data\r\n            this.page = 1\r\n            let lastpage = Math.ceil(this.allmovies.length / this.page_size)\r\n            if (this.page - lastpage < 0) {\r\n                this.movies = this.allmovies.slice((this.page - 1) * this.page_size, this.page_size * this.page)\r\n            } else {\r\n                // 异步兼容\r\n                setTimeout(() => {\r\n                    this.movies = this.allmovies.slice((this.page - lastpage) * this.page_size, this.page_size * this.page)\r\n                }, 1)\r\n            }\r\n        },\r\n        handleCurrentChange(data) {\r\n            this.page = data\r\n            let lastpage = Math.ceil(this.allmovies.length / this.page_size)\r\n            if (this.page - lastpage <= 0) {\r\n                this.movies = this.allmovies.slice((this.page - 1) * this.page_size, this.page_size * this.page)\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        let routerinfo = this.$route.query\r\n        if (routerinfo.title == '观看记录') {\r\n            this.movies = this.history\r\n            this.allmovies = this.history\r\n        }\r\n\r\n        this.handleCurrentChange(1)\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nbody {\r\n    background-color: #111319cc;\r\n}\r\n</style>\r\n"]}]}